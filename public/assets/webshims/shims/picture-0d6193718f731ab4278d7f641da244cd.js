webshim.ready("matchMedia",function(e,t,r,n,i){function s(e){var t,r,n,s,a,o=e||{};t=o.elements||c.getAllElements();for(var l=0,u=t.length;u>l;l++)if(r=t[l],n=r.parentNode,s=i,a=i,r[c.ns]||(r[c.ns]={}),o.reevaluate||!r[c.ns].evaluated){if("PICTURE"===n.nodeName.toUpperCase()){if(c.removeVideoShim(n),s=c.getMatch(r,n),s===!1)continue}else s=i;("PICTURE"===n.nodeName.toUpperCase()||r.srcset&&!c.srcsetSupported||!c.sizesSupported&&r.srcset&&r.srcset.indexOf("w")>-1)&&c.dodgeSrcset(r),s?(a=c.processSourceSet(s),c.applyBestCandidate(a,r)):(a=c.processSourceSet(r),(r.srcset===i||r[c.ns].srcset)&&c.applyBestCandidate(a,r)),r[c.ns].evaluated=!0}}function a(){s();var e=setInterval(function(){return s(),/^loaded|^i|^c/.test(n.readyState)?void clearInterval(e):void 0},250);if(r.addEventListener){var t;r.addEventListener("resize",function(){r._picturefillWorking||(r._picturefillWorking=!0,r.clearTimeout(t),t=r.setTimeout(function(){s({reevaluate:!0}),r._picturefillWorking=!1},60))},!1)}}try{new Image}catch(o){window.Image=function(){return document.createElement("img")}}if(t.isReady("picture",!0),r.HTMLPictureElement)return void(r.picturefill=function(){});n.createElement("picture");var c={};c.ns="picturefill",c.srcsetSupported="srcset"in n.createElement("img"),c.sizesSupported=r.HTMLImageElement.sizes,c.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},c.endsWith=function(e,t){return e.endsWith?e.endsWith(t):-1!==e.indexOf(t,e.length-t.length)},c.matchesMedia=function(e){return r.matchMedia&&r.matchMedia(e).matches},c.getDpr=function(){return r.devicePixelRatio||1},c.getWidthFromLength=function(e){return e=e&&(parseFloat(e)>0||e.indexOf("calc(")>-1)?e:"100vw",e=e.replace("vw","%"),c.lengthEl||(c.lengthEl=n.createElement("div"),n.documentElement.insertBefore(c.lengthEl,n.documentElement.firstChild)),c.lengthEl.style.cssText="position: absolute; left: 0; width: "+e+";",c.lengthEl.offsetWidth<=0&&(c.lengthEl.style.cssText="width: 100%;"),c.lengthEl.offsetWidth},c.types={},c.types["image/jpeg"]=!0,c.types["image/gif"]=!0,c.types["image/png"]=!0,c.types["image/svg+xml"]=n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),c.types["image/webp"]=function(){var e=new r.Image,t="image/webp";e.onerror=function(){c.types[t]=!1,s()},e.onload=function(){c.types[t]=1===e.width,s()},e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},c.verifyTypeSupport=function(e){var t=e.getAttribute("type");return null===t||""===t?!0:"function"==typeof c.types[t]?(c.types[t](),"pending"):c.types[t]},c.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},c.findWidthFromSourceSize=function(e){for(var t,r=c.trim(e).split(/\s*,\s*/),n=0,i=r.length;i>n;n++){var s=r[n],a=c.parseSize(s),o=a.length,l=a.media;if(o&&(!l||c.matchesMedia(l))){t=o;break}}return c.getWidthFromLength(t)},c.parseSrcset=function(e){for(var t=[];""!==e;){e=e.replace(/^\s+/g,"");var r,n=e.search(/\s/g),i=null;if(-1!==n){r=e.slice(0,n);var s=r[r.length-1];if((","===s||""===r)&&(r=r.replace(/,+$/,""),i=""),e=e.slice(n+1),null===i){var a=e.indexOf(",");-1!==a?(i=e.slice(0,a),e=e.slice(a+1)):(i=e,e="")}}else r=e,e="";(r||i)&&t.push({url:r,descriptor:i})}return t},c.parseDescriptor=function(e,t){var r,n=t||"100vw",s=e&&e.replace(/(^\s+|\s+$)/g,""),a=c.findWidthFromSourceSize(n);if(s)for(var o=s.split(" "),l=o.length+1;l>=0;l--)if(o[l]!==i){var u=o[l],p=u&&u.slice(u.length-1);if("h"!==p&&"w"!==p||c.sizesSupported){if("x"===p){var d=u&&parseFloat(u,10);r=d&&!isNaN(d)?d:1}}else r=parseFloat(parseInt(u,10)/a)}return r||1},c.getCandidatesFromSourceSet=function(e,t){for(var r=c.parseSrcset(e),n=[],i=0,s=r.length;s>i;i++){var a=r[i];n.push({url:a.url,resolution:c.parseDescriptor(a.descriptor,t)})}return n},c.dodgeSrcset=function(e){e.srcset&&(e[c.ns].srcset=e.srcset,e.removeAttribute("srcset"))},c.processSourceSet=function(e){var t=e.getAttribute("srcset"),r=e.getAttribute("sizes"),n=[];return"IMG"===e.nodeName.toUpperCase()&&e[c.ns]&&e[c.ns].srcset&&(t=e[c.ns].srcset),t&&(n=c.getCandidatesFromSourceSet(t,r)),n},c.applyBestCandidate=function(e,t){var r,n,i;e.sort(c.ascendingSort),n=e.length,i=e[n-1];for(var s=0;n>s;s++)if(r=e[s],r.resolution>=c.getDpr()){i=r;break}i&&!c.endsWith(t.src,i.url)&&(t.src=i.url,t.currentSrc=t.src)},c.ascendingSort=function(e,t){return e.resolution-t.resolution},c.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var r=t[0],n=r.getElementsByTagName("source");n.length;)e.insertBefore(n[0],r);r.parentNode.removeChild(r)}},c.getAllElements=function(){for(var e=[],t=n.getElementsByTagName("img"),r=0,i=t.length;i>r;r++){var s=t[r];("PICTURE"===s.parentNode.nodeName.toUpperCase()||null!==s.getAttribute("srcset")||s[c.ns]&&null!==s[c.ns].srcset)&&e.push(s)}return e},c.getMatch=function(e,t){for(var r,n=t.childNodes,s=0,a=n.length;a>s;s++){var o=n[s];if(1===o.nodeType){if(o===e)return r;if("SOURCE"===o.nodeName.toUpperCase()){null!==o.getAttribute("src")&&typeof console!==i&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var l=o.getAttribute("media");if(o.getAttribute("srcset")&&(!l||c.matchesMedia(l))){var u=c.verifyTypeSupport(o);if(u===!0){r=o;break}if("pending"===u)return!1}}}}return r},a(),s._=c,r.picturefill=s,function(){t.isReady("picture",!0);var e="picture, img[srcset]";t.addReady(function(t){t.querySelector(e)&&window.picturefill()})}()});
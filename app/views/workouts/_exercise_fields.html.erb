<div class="exercise-wrapper">

		<li>
			<div class="ex_counter">1</div>	
			<% if params[:action] = "edit" %>
			<%= f.label :name, 'Exercise' %>
			<% end %>
			<%= f.text_field :name, :placeholder => " exercise", class: "exercise_name ui-autocomplete-	input" %>
		</li>
		<li>
			<% if params[:action] = "edit" %>
			<%= f.label :weight %>
			<% end %>
			<%= f.text_field :weight, size: "5", :placeholder => " weight" %>
		</li>
		<li>
			<% if params[:action] = "edit" %>
			<%= f.label :reps %>
			<% end %>
			<%= f.text_field :reps, size: "5", :placeholder => " reps" %>
			<%= f.hidden_field :_destroy %>
			<%= link_to "Remove Exercise", '#', class: "remove-exercise-link javascript-link" %>
		</li>
</div>
<script>



/****  
* Autocomplete for exercises in the workout form. 
* Source (for autocomplete): all exercises marked as 'usable' in ibid table
* Includes "Monkey patch" that allows for 
* syntax highlighting of matched terms. 
*
****/
function monkeyPatchAutocomplete() {
    $.ui.autocomplete.prototype._renderItem = function (ul, item) {
        var keywords = $.trim(this.term).split(' ').join('|');
        var output = item.label.replace(new RegExp("(" + keywords + ")", "gi"), '<span style="font-weight:bold;color:Blue;">$1</span>');
        return $("<li>")
            .append($("<a>").html(output))
            .appendTo(ul);
    };
}

$(function() {
		monkeyPatchAutocomplete();
    $('.exercise_name').autocomplete({ 
			source: '<%= exercises_path %>'
	 	});
});
</script>
